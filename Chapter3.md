# 制御文
条件分岐や繰り返し等のプログラムをもっと便利にできる文を紹介する。

## 目次
[if文](#if文)  
[switch文](#switch文)  
[while文](#while文)  
[do-while文](#do-while文)  
[for文](#for文)  
[拡張for文](#拡張for文)  
[ラベル付きbreak](#ラベル付きbreak)  
[演習問題](#演習問題)

## if文
if文はある条件に達したときに中のコードを実行する文である。
```
if (条件){
  実行コード
}
```

条件には計算結果や変数の値を入れる。また、条件に一致しているかを計算する**条件式**が存在する。  
条件式には以下のような記号を使用することが多い。

|記号|例|意味|
|-|-|-|
|`==`|`a==b`|等値のとき|
|`!=`|`a!=b`|値が等しくないとき|
|`<`|`a<b`|左より右が大きいとき|
|`>`|`a>b`|右より左が大きいとき|
|`<=`|`a<=b`|左が右以下のとき|
|`>=`|`a>=b`|左が右以上のとき|
|`&&`|`a>b&&b>c`|左右の条件を両方とも満たしているとき|
|`\|\|`|`a>b\|\|b>c`|左右の条件をどちらかが満たしているとき|

`=`が代入演算子であるため、値が等しいかを判定するには`==`を使う。間違えると正しく動作しないため気を付けること。  
また、boolean型の変数はそのままif文の条件式に使用できる。

ifの後ろにelseをつけることでifが実行されなかったときの処理を記述できる。

例. `a`と`b`と`c`の値を変えていろいろ試してみよう
```
void setup (){
  int a=0;
  int b=0;
  int c=0;
  if (a+b>=10){
    println ("big!");
    if (c>=10){
      println ("very nice!");
    }
  }else{
    println ("small...");
  }
}
```
また、ifとelseを合わせるとこんなこともできる。
```
if (条件){
  実行コード //分岐1
}else if (条件){
  実行コード //分岐2
}else if (条件){
  実行コード //分岐3
}else{
  実行コード //分岐4
}
```

## switch文
switch文は決められた値によって分岐をたくさん作ることが得意である。  
構文はこのような形である。
```
switch (値){
  case 値:
  実行コード //分岐1
  break;//switchから脱出

  case 値:
  実行コード //分岐2
  break;
}
```
以下にswitchを使用した例を示す。

例. 偶数か奇数か判定(`a`の値をいろいろ変えて試してみよう)
```
void setup(){
  int a=0;
  switch (a%2){
    case 0:
    println ("偶数です。");
    break;

    case 1:
    println ("奇数です。");
    break;
  }
}
```
breakを使用しないとswitch文から脱出しないため、次の分岐のコードを実行してしまう。しかし、それを逆手にとったコードを組むことができる。

例. breakで脱出しない分岐を作る(`a`の値をいろいろ変えて試してみよう)
```
void setup(){
  int a=0;
  switch (a%6){
    case 0:
    println ("6の倍数です。");
    case 2:
    case 4:
    println ("偶数です。");
    break;

    case 1:
    case 3:
    case 5:
    println ("奇数です。");
    break;
  }
}
```
また、caseのどの値にも当てはまらなかった場合defaultがあればそこに移動する。

例. defaultを使用(`a`の値をいろいろ変えて試してみよう)
```
void setup (){
  int a=0;
  switch (a){
    case 0:
    case 2:
    case 4:
    println ("偶数です。");
    break;

    case 1:
    case 3:
    case 5:
    println ("奇数です。");
    break;
    
    default:
    println ("aの値は6未満にしてください。");
    break;
  }
}
```

switchで出来ることはifでも出来るが、分岐が多い場合はifよりもswitchを使ったほうが見やすいコードに仕上げられる。しかし、注意すべき点としてcaseの後ろの値には変数や定数を使用できない点がある。

## while文
while文は条件を満たしている限り中のコードを繰り返す文である。
while文の構文は以下の通り。
```
while (条件){
  実行コード
}
```
例. 1~10を出力する
```
void setup(){
  int i=0;
  while (i<10){
    println (++i);
  }
}
```
また、breakを使うことでループの途中で脱出することができ、ループ内から素早く脱出できる。

例. breakを使う
```
void setup(){
  int i=0;
  while (true){
    println ("ループ開始");
    if (++i>5){
      println ("ループ終了!");
      break;
    }
    println ("ループするよ!");
  }
}
```
結果
```
ループ開始
ループするよ!
ループ開始
ループするよ!
ループ開始
ループするよ!
ループ開始
ループするよ!
ループ開始
ループするよ!
ループ開始
ループ終了!

```
また、ループの処理を最後までせず、ループを次へ進めたいときは、continueを使う。

例. 上の例をcontinueで書き換える
```
void setup (){
  int i=0;
  while (true){
    println ("ループ開始");
    if (i++<5){
      println ("ループするよ!");
      continue;
    }
    println ("ループ終了!");
    break;
  }
}
```

## do-while文
while文は条件を満たしている限り中のコードを繰り返す文である。whileやfor(後述)は繰り返すかの判断をループを実行する前に判断するが、do-whileはループを実行してから判定を行う。そのため、ループ内のコードは少なくとも一回は実行されるという特徴を持つ。

構文は次の通りである。
```
do{
  実行コード
}while (条件);//このセミコロンは必須
```
構文と動作が異なるだけで、他はwhileと同じであるためbreakやcontinueも使うことができる。

## for文
for文はループ変数、条件、繰り返し時の処理の3つを1行で書ける文である。
```
for (ループ変数の宣言;条件;繰り返し時の処理){
  実行コード
}
```
例. 1~10を順番に出力
```
void setup (){
  for (int i=1;i<=10;i++){
    println (i);
  }
}
```
上の例はループ変数`i`を1で初期化し、`i`が10以下の場合は`i`を1ずつ増やしながら繰り返すという意味になる。

## 拡張for文
注. [配列](Chapter4.md)をよくわかっていない方は読み飛ばすことを推奨する。

拡張for文は一つの配列の全要素に決められた処理をするときに重宝する。  
構文は以下の通り。
```
for (配列の型 変数名 : 配列){
  実行コード
}
```
繰り返す回数は配列の要素数に等しく、繰り返した回数をnとするとループ変数は配列のn番目の要素としてふるまう。  
例として、要素が10のint型の配列`array`の全要素を`0`で初期化するコードを挙げる。
```
void setup (){
  int[] array=new int[10];
  for (int i:array){
    i=0;
  }
}
```

## ラベル付きbreak
二重に繰り返し文等を実行している場合、素早く二重ループから抜け出したい時がある。その時に使用するのがラベル付きbreakである。

ラベルを付けたいときはbreakが使える文の直前にラベル名を記述すればよい。また、ラベルがついた文から脱出する場合は`break ラベル名;`と記述する。

例. 二重forから脱出
```
void setup (){
  label:
  for (int i=1;i<=9;i++){
    for (int j=1;j<=9;j++){
      print (i*j);
      if (i*j==25){
        break label;
      }
    }
    println ();
  }
}
```

## 演習問題[^1]
問1. 以下のプログラム中のfor文の一部を書き換え、3の倍数を出力せよ。ただし、ループ変数の初期値は0、出力される値の最大値は45以下とする。
```
void setup (){
  for (int i=0;ここを書き換え;ここも書き換え){
    println (i);
  }
}
```

[^1]: 演習問題の解答例は[ここ](answers.md)
